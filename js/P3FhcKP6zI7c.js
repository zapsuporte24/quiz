(()=>{console.log("utms script loaded! 2.3.10");class t{static addUtmParametersToUrl(e){const n=t.urlWithoutParams(e),r=t.paramsFromUrl(e),o=t.getUtmParameters(),a=new URLSearchParams;r.forEach(((t,e)=>a.append(e,t))),o.forEach(((t,e)=>a.append(e,t)));const s=t.urlParametersWithoutDuplicates(a),c=-1===n.indexOf("?")?"?":"&";return`${n}${c}${s.toString()}`}static urlWithoutParams(t){return t.split("?")[0]}static paramsFromUrl(t){if(!t)return new URLSearchParams;const e=t instanceof URL?t.href:t;if(!e.includes("?"))return new URLSearchParams;const n=e.split("?");if(n.length<=1)return new URLSearchParams;const r=n[1];return new URLSearchParams(r)}static urlParametersWithoutDuplicates(t){const e=Array.from(t.keys()),n=new Map;e.forEach((e=>{const r=t.getAll(e);n.set(e,r[r.length-1])}));const r=new URLSearchParams;return n.forEach(((t,e)=>{r.append(e,t)})),r}static getUtmParameters(){var t;const e="hQwK21wXxR",r="rKm-km-rKm",o=new URLSearchParams(window.location.search);function a(t){const e=o.get(t);if(null!=e&&"null"!==e&&"undefined"!==e&&""!==e)return e;const r=localStorage.getItem(t);if(!r)return"";const a=localStorage.getItem(n(t));return!a||new Date(a)<new Date?(localStorage.removeItem(t),localStorage.removeItem(n(t)),""):r}function s(t){return t.join(e)}const c=a("utm_term"),i=a("utm_content"),u=a("utm_medium"),m=a("utm_campaign"),l=function(t){const e=function(){var t;const e=localStorage.getItem("lead");if(!e)return null;const n=JSON.parse(e);return null!==(t=null==n?void 0:n._id)&&void 0!==t?t:null}();return e?t.includes("jLj")?t:`${t}jLj${e}`:t}(a("utm_source")),d=new URLSearchParams;d.set("utm_source",l),d.set("utm_campaign",m.includes(r)?m:`${m}${r}${u}`),d.set("utm_medium",u),d.set("utm_content",i),d.set("utm_term",c);const f=null!==(t=d.get("utm_campaign"))&&void 0!==t?t:"",h=[l,f,u,i,c],w=s(h);d.set("subid",l),d.set("sid2",f),d.set("subid2",f),d.set("subid3",u),d.set("subid4",i),d.set("subid5",f);const p=a("xcod"),g=a("src"),v=""!==p?p:g,S=function(t,n){if(t.length<=255)return t;const o=Math.floor(18.8);function a(t,e,n){function a(t){return t.substring(0,o)+"..."}if(!e)return a(t);const s=null!=n?n:"|",c=t.split(r)[0].split(s),i=c.length>1?c[c.length-1]:"";return`${a(1===c.length?c[0]:c.slice(0,-1).join(s))}${s}${i}`}const[c,i,u,m,l]=t.split(e);return s([a(c,!0,"jLj"),a(i,!0),a(u,!0),a(m,!0),a(l,!1)])}(h.every((t=>""===t))?v:w);d.set("xcod",S),d.set("sck",S),null!=g&&""!==g&&d.set("src",g);const U=o.get("fbclid");return null!=U&&""!==U&&d.set("fbclid",U),d}}window.paramsList=["utm_source","utm_campaign","utm_medium","utm_content","utm_term","xcod","src"],window.itemExpInDays=7;const e=["utm_source","utm_campaign","utm_medium","utm_content","xcod","sck"];function n(t){return`${t}_exp`}function r(){function r(n){document.querySelectorAll("a").forEach((r=>{if(!(r.href.startsWith("mailto:")||r.href.startsWith("tel:")||r.href.startsWith("whatsapp:")||r.href.includes("#"))){if(n&&e.every((t=>r.href.includes(t))))return;r.href=t.addUtmParametersToUrl(r.href)}}))}function o(n){document.querySelectorAll("form").forEach((r=>{n&&e.every((t=>r.action.includes(t)))||(r.action=t.addUtmParametersToUrl(r.action),t.getUtmParameters().forEach(((t,e)=>{const n=(o=e,r.querySelector(`input[name="${o}"]`));var o;if(n)return void n.setAttribute("value",t);const a=((t,e)=>{const n=document.createElement("input");return n.type="hidden",n.name=t,n.value=e,n})(e,t);r.appendChild(a)})))}))}!function(){const t=new URLSearchParams(window.location.search);window.paramsList.forEach((e=>{const r=t.get(e);r&&((t,e)=>{localStorage.setItem(t,e);const r=new Date((new Date).getTime()+24*window.itemExpInDays*60*60*1e3);localStorage.setItem(n(t),r.toISOString())})(e,r)}))}();const a=null!==(i=null===(c=null===(s=null===window||void 0===window?void 0:window.BOOMR)||void 0===s?void 0:s.themeName)||void 0===c?void 0:c.includes("Dropmeta"))&&void 0!==i&&i;var s,c,i;r(),function(){const e=window.open;window.open=function(n,r,o){var a;return n=t.addUtmParametersToUrl(null!==(a=null==n?void 0:n.toString())&&void 0!==a?a:""),e(n,r||"",o||"")}}(),a||(o(),function(){const{body:t}=document;new MutationObserver(((t,e)=>{const n=t=>{if(t.nodeType!==Node.ELEMENT_NODE)return!1;const e=t;return"INPUT"===e.tagName&&"hidden"===(null==e?void 0:e.type)};t.some((t=>Array.from(t.addedNodes).some(n)))||(r(!0),o(!0))})).observe(t,{subtree:!0,childList:!0})}())}const o=()=>{r(),setTimeout(r,2e3),setTimeout(r,3e3),setTimeout(r,5e3),setTimeout(r,9e3)};"complete"===document.readyState?o():window.addEventListener("load",o)})();